function _entrRemNew(e,t,s,a="Are you sure?",o){if(confirm(a)){if(_uPostForm("",{url:t}),!o){let t=document.getElementById(e).closest("div.u-mpanel");t.classList.contains("moder-margin")?(t.classList.remove("open","moder-margin"),t.removeAttribute("style")):t.classList.remove("open"),t.addEventListener("mouseleave",()=>bind_moder_leave(t))}document.getElementById(e).closest("li").remove()}}function activateItemComment(e,t){if(confirm(umoder_panel_params.confirm_activate)){_uPostForm("",{url:`/index/86-${t}-1`,type:"GET"});let s=e.closest("div.u-mpanel");s.classList.remove("open","moder-margin"),s.removeAttribute("style"),s.addEventListener("mouseleave",()=>bind_moder_leave(s)),e.closest("li").remove()}}function del_soc_item_new(e,t){confirm(umoder_panel_params.confirm_delete)&&_uPostForm("",{url:"/index",type:"POST",data:{ssid:uCoz.ssid,a:38,s:e,soc_type:scurrent,sdata:ssdata[scurrent],as_spam:t?1:0}})}function del_item_new(e,t){confirm(umoder_panel_params.confirm_delete)&&_uPostForm("",{url:"/index",type:"POST",data:{ssid:uCoz.ssid,a:38,s:e,as_spam:t?1:0}})}function bind_moder_leave(e){window.matchMedia("(max-width: 991px)").matches&&e.classList.remove("open")}function bind_moder_hover(e){let t=e.closest("div.u-mpanel");t.classList.remove("open"),t.addEventListener("mouseleave",()=>bind_moder_leave(t)),t.removeAttribute("style"),t.removeAttribute("onclick")}function moderClickHandler(e){let t=e.closest("div.u-mpanel");if(t.classList.contains("open")&&t.classList.contains("moder-margin"))t.removeAttribute("style");else if(t.classList.contains("moder-margin")){let e=t.classList.contains("up-left")?"left":"right",s=parseInt(getComputedStyle(t.querySelector("ul.u-mpanel-l")).width)+10;t.setAttribute("style",`margin-${e}:${s}px!important;`)}t.classList.toggle("open")}document.addEventListener("DOMContentLoaded",(function(){uCoz.spam=uCoz.spam||{},uCoz.spam.moderPanelNotSpamClickNew=async function(e){let t=e.dataset.messageId,s=e.dataset.notSpam?0:1,a=new FormData;a.append("a","101"),a.append("scope_id",uCoz.spam.config.scopeID),a.append("message_id",t),a.append("not_spam",s);let o=null;try{let e=await fetch("/index/",{method:"POST",body:a});o=await e.json()}catch(e){console.error(e)}let n=e.closest(".u-mpanel"),i=n.querySelector("#del-as-spam-"+t).closest("li"),m=e.closest("li");if("admin_message_not_spam"==o.status?(e.dataset.notSpam=!0,i.classList.add("hidden"),m.classList.add("hover")):(e.removeAttribute("data-not-spam"),i.classList.remove("hidden"),m.classList.remove("hover")),n.classList.contains("moder-margin")){let e=m.closest("ul.u-mpanel-l"),t=parseInt(getComputedStyle(e).width)+10,s=n.classList.contains("up-right")?"right":"left";n.setAttribute("style",`margin-${s}:${t}px!important;`)}}}));